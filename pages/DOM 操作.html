<html>
<head>
  <title>DOM 操作</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="426"/>
<h1>DOM 操作</h1>

<div>
<span><div>（1）创建新节点</div><div><br/></div><div>  createDocumentFragment() //创建一个DOM片段</div><div><br/></div><div>  createElement() //创建一个具体的元素</div><div><br/></div><div>  createTextNode() //创建一个文本节点</div><div><br/></div><div>（2）添加、移除、替换、插入</div><div><br/></div><div>  appendChild()</div><div><br/></div><div>  removeChild()</div><div><br/></div><div>  replaceChild()</div><div><br/></div><div>  insertBefore()</div><div><br/></div><div>（3）查找</div><div><br/></div><div>  getElementsByTagName() //通过标签名称</div><div><br/></div><div>  getElementsByName() //通过元素的Name属性的值</div><div><br/></div><div>  getElementById() //通过元素Id，唯一性</div><div><br/></div><div><br/></div><div><br/></div><div><b>1.创建元素节点</b></div><div>document.createElement() 方法 用于创建元素，接受一个参数，即要创建元素的标签名，返回创建的元素节点</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">var div = document.createElement(&quot;div&quot;); //创建一个div元素</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">div.id = &quot;myDiv&quot;; //设置div的id</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">div.className = &quot;box&quot;; //设置div的class</span></span></span></div></div><div><br/></div><div>创建元素后还要把元素添加到文档树中</div><div><br/></div><div><b>2.添加元素节点</b></div><div>appendChild() 方法 用于向childNodes列表的末尾添加一个节点，返回要添加的元素节点</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"> var ul = document.getElementById(&quot;myList&quot;); //获得ul</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"> var li = document.createElement(&quot;li&quot;); //创建li</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"> li.innerHTML = &quot;项目四&quot;; //向li内添加文本</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"> ul.appendChild(li); //把li 添加到ul子节点的末尾</span></span></span></div></div><div><br/></div><div>appendChild() 方法还可以添加已经存在的元素，会将元素从原来的位置<b>移到新的位置</b></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"> var ul = document.getElementById(&quot;myList&quot;); //获得ul</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"> ul.appendChild(ul.firstChild); //把ul的第一个元素节点移到ul子节点的末尾</span></span></span></div></div><div><br/></div><div>insertBefore() 方法，如果不是在末尾插入节点，而是想放在<b>特定的位置</b>上，用这个方法，该方法接受2个参数，第一个是要插入的节点，第二个是参照节点，返回要添加的元素节点</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"> var ul = document.getElementById(&quot;myList&quot;); //获得ul</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"> var li = document.createElement(&quot;li&quot;); //创建li</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"> li.innerHTML= &quot;项目四&quot;; //向li内添加文本</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"> ul.insertBefore(li,ul.firstChild); //把li添加到ul的第一个子节点前</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"> var ul = document.getElementById(&quot;myList&quot;); //获得ul</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"> var li = document.createElement(&quot;li&quot;); //创建li</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"> li.innerHTML= &quot;项目四&quot;; //向li内添加文本</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"> ul.insertBefore(li,ul.lastChild); //把li添加到ul的最后一个子节点（包括文本节点）之前</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"> var ul = document.getElementById(&quot;myList&quot;); //获得ul</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"> var li = document.createElement(&quot;li&quot;); //创建li</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"> li.innerHTML= &quot;项目四&quot;; //向li内添加文本</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"> var lis = ul.getElementsByTagName(&quot;li&quot;) //获取ul中所有li的集合</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"> ul.insertBefore(li,lis[1]); 　　　　//把li添加到ul中的第二个li节点前</span></span></span></div></div><div><br/></div><div>添加后:</div><div><br/></div><div><b>3.移除元素节点</b></div><div>removeChild() 方法，用于移除节点，接受一个参数，即要移除的节点，返回被移除的节点，<b>注意被移除的节点仍然在文档中，不过文档中已没有其位置了</b></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div> var ul = document.getElementById(&quot;myList&quot;); //获得ul</div><div> var fromFirstChild = ul.removeChild(ul.firstChild); //移除ul第一个子节点，会返回被移除的节点</div><div><br/></div><div> var ul = document.getElementById(&quot;myList&quot;); //获得ul</div><div> var lis = ul.getElementsByTagName(&quot;li&quot;) //获取ul中所有li的集合</div><div> ul.removeChild(lis[0]); 　　　　　　//移除第一个li，与上面不同，要考虑浏览器之间的差异</div></div><div><br/></div><div><b>4.替换元素节点</b></div><div>replaceChild() 方法，用于替换节点，接受两个参数，第一参数是要插入的节点，第二个是要替换的节点，返回被替换的节点</div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div> var ul = document.getElementById(&quot;myList&quot;); //获得ul</div><div> var fromFirstChild = ul.replaceChild(ul.firstChild); //替换ul第一个子节点</div><div><br/></div><div> var ul = document.getElementById(&quot;myList&quot;); //获得ul;</div><div> var li = document.createElement(&quot;li&quot;); //创建li</div><div> li.innerHTML= &quot;项目四&quot;; //向li内添加文本</div><div> var lis = ul.getElementsByTagName(&quot;li&quot;) //获取ul中所有li的集合</div><div> var returnNode = ul.replaceChild(li,lis[1]); //用创建的li替换原来的第二个li</div></div><div><br/></div><div><b>5.复制节点</b></div><div>cloneNode() 方法，用于复制节点， 接受一个布尔值参数， true 表示深复制（复制节点及其所有子节点）， false 表示浅复制（复制节点本身，不复制子节点）</div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div> var ul = document.getElementById(&quot;myList&quot;); //获得ul</div><div> var deepList = ul.cloneNode(true); //深复制</div><div> var shallowList = ul.cloneNode(false); //浅复制</div></div><div><br/></div></span>
</div></body></html> 