<html>
<head>
  <title>盒子模型</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="430"/>
<h1>盒子模型</h1>

<div>
<span><div><p style="text-align: center;"><strong><span style="font-size: 16px;">深入理解盒子模型</span></strong></p><p style="text-align: left;">　　<span style="color: #888888;">盒子模型是CSS控制页面的基础。需要清楚“盒子”的含义是什么，以及盒子的组成。此外，应该理解DOM的基本概念，以及DOM树是如何与一个HTML文档对应的，在此基础上充分理解“标准流”的概念。</span></p><p style="text-align: left;"> </p><p>3.1 盒子的内部结构</p><p>　　<span style="color: #ff0000;">padding-border-margin</span>模型是一个极其通用的描述矩形对象布局形式的方法。这些矩形对象被统称为”盒子“，英文为”Box“。 模型 就是对某种事物的本质特性的抽象。</p><p>　　在CSS中，一个独立的盒子模型<span style="color: #ff0000;">由content(内容)、border（边框）、padding(内边距)和margin（外边距）</span>4个部分组成。</p><p>　　一个盒子<b>实际所占有的宽度（或高度）</b>是由”<span style="color: #ff0000;">内容+内边距+边框+外边距“</span>组成的。在CSS中可以通过设定width和height的值来控制<b>内容</b>所占的矩形的大小。</p><p> </p><p>3.2 边框（border）</p><p>　　border一般用于分隔不同元素，border的外围即为元素的最外围，因此计算元素实际的宽和高时，就要将border纳入。</p><p>　　border的属性主要有3个，分别是 color（颜色）、width（粗细）和style（样式）。在使用CSS设置边框的时候，可以分别使用 border-color、border-width、border-style设置它们。</p><p>　　border-color指定border的颜色。通常设置为十六进制的值，如#336699，可以缩写为 #369</p><p>　　border-width指定border的粗细程度，可以设为thin、medium、thick和&lt;length&gt;（指具体的数值）。 默认值为”medium“，一般浏览器解析为2px宽。</p><p>　　border-style，可以设为 none、hidden、dotted、dashed、solid、double、groove、ridge、inset和outset等。其中none和hidden都不显示border，在运用表格中时，hidden可以用来解决边框冲突的问题。</p><p>3.2.1 实验1-border-style</p><p>　　<img src="../image/盒子模型_files/Image.jpg" type="image/jpeg" style="height: auto;"/></p><p>3.2.2 属性值的简写形式</p><p>　　1. 对不同的边框设置不同的属性值</p><p>　　　　设别设置border-color,border-width,border-style这3个属性，是对上下左右4个边框同时产生作用。还可以设置不同属性值：</p><p>　　　　A. 如果给出2个属性值，前者表示 上下边框的属性，后者表示 左右边框；</p><p>　　　   B. 如果给出3个属性值，前者表示上边框的属性，中间数值表示左右边框的属性，后者表示下边框的属性；</p><p>　　　　C. 如果给出4个属性值，依次表示：上、右、下、左边框的属性，即顺时针排序。</p><p>　　2. 对一条边框设置与其他边框不同的属性。如设置左边框的颜色为红色，可写作：border-left-color:red;</p><p>　　　　当有多条规则作用于同一个边框时，会产生冲突，后面的设置会覆盖前面的设置。</p><p>3.2.3 实验2-属性的缩写形式</p><p>3.2.4 实验3-边框与背景</p><p>　　在给元素设置background-color背景色时，IE作用的区域为 content+padding，而Firefox则是 content+padding+border。　</p><p> </p><p>3.3 内边距（padding）</p><p>　　padding 又称为内边距，用于控制<b>内容与边框之间的距离</b>。</p><p>　　当一个盒子设置了背景图像后，默认情况下背景图像覆盖的范围是padding和内容组成的范围，并以padding的左上角为基准点平铺背景图像。</p><p>　　IE浏览器： 背景色覆盖 padding+内容； 火狐浏览器 border+padding+内容。</p><p>3.4 外边距 （margin）</p><p>　　margin指的是元素与元素之间的距离。</p><p>　　从直观上而言，margin用于控制<b>块与块之间的距离</b>。倘若将盒子模型比作展览馆里展出的一幅幅画，那么content就是画面本身，padding就是画面与画框之间的留白，border就是画框，而margin就是画与画之间的距离。</p><p> </p><p>3.5 盒子之间的关系</p><p>　　CSS规范的思路是：首先确定确定一种<b>标准的</b>排版模式，这样可以保证设置的简单化，各种网页元素构成的盒子按照这种标准的方式排列布局。这种方式就是”标准流&quot;方式.</p><p>3.5.1 HTML和DOM</p><p>　　DOM是 Document Object Model的缩写，即“文档对象模型”。一个网页的所有元素组织在一起，就构成了一个棵“DOM”树。</p><p>　　一个HTML文档并不是一个简单的文本文件，而是一个具有层次结构的逻辑文档，每一个HTML元素都作为这个层次结构中的一个节点存在。每个节点反应在浏览器上回具有不同的表现形式，具体的表现形式是由CSS来决定的。</p><p>　　CSS的目的是使网页的表现形式与内容结构分离，CSS控制网页的表现形式，HTML控制网页的内容结构。</p><p>3.5.2 标准文档流</p></div><div><br/></div><div>　　“标准文档流”简称“标准流”。指在不适用其他的与排版和定位相关的特殊CSS规则时，各种元素的排列规则。</div><div><p>　　1. 块级元素（<span style="color: #ff0000;">block</span> level）</p><p>　　　　总是以一个块的形式表现出来，并且跟同级的兄弟块<b>依次竖直排列，左右撑满</b>。</p><p>　　2. 行内元素（<span style="color: #ff0000;">inline</span>）</p><p>　　　　标记本身不占有独立的区域，仅仅实在其他元素的基础上指出了一定的范围。</p><p>　　行内元素在DOM树种同样是一个节点。从DOM的角度来看，块级元素和行内元素是没有区别的，都是树上的一个节点；而从CSS的角度来看，二者有很大的区别，块级元素拥有自己的区域，行内元素则没有。</p><p>　　<b>标准流就是CSS规定的默认的块级元素和行内元素的排列方式</b>。</p><p> </p><p>3.5.3 &lt;div&gt;标记和&lt;span&gt;标记</p><p>　　&lt;div&gt;是一个块级元素，他保卫的元素会自动换行。而&lt;span&gt;仅仅是一个行内元素，在它的前后不会换行。</p><p> </p><p>3.6 盒子在标准流中的定位原则</p><p>3.6.1 实验1-行内元素之间的水平margin</p><p>　　当两个行内元素紧邻时，他们之间的距离为 <b>第一个元素的 margin-right 加上第2个元素的margin-left</b>。</p><p>3.6.2 实验2-块级元素之间的竖直margin</p><p>　　两个竖直块级元素之间的距离不是margin-bottom与margin-top的总和，而是<b>两者中的较大者</b>。这个现象称为 margin 的“塌陷”现象。</p><p>3.6.3 实验3-嵌套盒子之间的margin</p><p>　　如果父div的高度值小于子块div的高度加上margin的值，此时IE浏览器会自动扩大，保持子元素的margin-bottom的空间以及父元素自身的padding-bottom。而firefox会保证父元素的高度完全吻合，子元素会超出父元素的范围。</p><p>　　CSS规范中有四个宽度和高度的相关属性，为：min-height、max-height、min-width、max-width。 IE浏览器不支持。</p><p> </p><p>3.6.4 实验4- 将margin设置为负值</p><p>　　当margin设为负数时，<b>会使被设为负数的块向相反的方向移动，甚至覆盖在另外的块上</b>。</p></div><div><br/></div><div>3.7 CSS中的几何题</div><div><br/></div><div>     盒子实际占据的宽度是 width+padding+border+margin的总宽度。</div><div><br/></div><div><span style="font-size: 16px;"><b>     </b></span></div><div><br/></div><div>     盒模型在初学css的时候就会接触到，其实很容易理解，这里也不多废话，但是实际上在布局的时候还是会出现很多问题。对于盒模型的认识不能只停留在知道一个盒模型由哪些部分构成，也要更多的了解如何在不同情况下利用盒模型的特点进行布局。</div><div><br/></div><div>     这里讨论一下两种不同的盒模型： <b>W3C盒模型和IE盒模型</b>。</div><div><br/></div><div>     其实IE的盒模型问题只会出现在<b>IE5.5及其更早的版本中</b>，因为在IE6及更新的版本在标准兼容模式下使用的是W3C的盒模型标准，但事实上不仅IE5.5，连IE6的使用率也很少了，这里对他们进行讨论只是为了更深刻的理解盒模型。</div><div><br/></div><div>     对于两种模型这里有一张图：</div><div><br/></div><div><img src="../image/盒子模型_files/Image.gif" type="image/gif" alt="W3C盒模型和IE盒模型" style="height:auto;" width="361"/></div><div><br/></div><div>     可以看到IE的盒模型与W3C盒模型的<b>区别在与width的计算。</b>我们在设置样式的时候经常会用到margin和padding还有width，对于下面html文件：</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">&lt;!-- 没有声明 --&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">&lt;html&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">&lt;head lang=&quot;ch&quot;&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     &lt;title&gt;&lt;/title&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     &lt;style&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">          .box{</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">               float:left;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">               width: 100px;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">               height: 100px;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">               background-color: #ff9000;（橙色）</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">          }</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">          .container{</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">               width: 200px;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">               padding: 10px;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">               background-color: #f00;（红色）</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">               overflow: hidden;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">          }</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     &lt;/style&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">&lt;/head&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">&lt;body&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     &lt;div class=&quot;container&quot;&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">          &lt;div class=&quot;box&quot;&gt;&lt;/div&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">          &lt;div class=&quot;box&quot;&gt;&lt;/div&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     &lt;/div&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">&lt;script&gt;&lt;/script&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">&lt;/body&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">&lt;/html&gt;</span></span></span></div></div><div><br/></div><div>不管是不是IE，浏览器下显示的效果都是：</div><div><img src="../image/盒子模型_files/Image [1].jpg" type="image/jpeg" style="height:auto;" width="246"/></div><div>可以看到 Container正好将两个box包装起来。</div><div><br/></div><div>但加入给container添加一个padding如下：</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">.container{</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     width: 200px;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     background-color: #f00;//背景色是会包括到padding的</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     overflow: hidden;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     padding: 10px;  //不被包括到width里，所以不关内部box的事</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">}</span></span></span></div></div><div><p>则其在非IE下的样式为：<br/><img src="../image/盒子模型_files/Image [2].jpg" type="image/jpeg" alt="W3C" style="height:auto;" width="218"/><br/>
但在IE下为：<br/><img src="../image/盒子模型_files/Image [3].jpg" type="image/jpeg" alt="IE" style="height:auto;" width="209"/></p></div><div><br/></div><div>     IE中的box<b>换行了（因为宽度不变的情况下，padding占了width所以内部box被挤下去了）</b>，这就是因为IE中的width是包括了padding和border的，而W3C也就是我们平常使用的盒模型不包括，不管padding加多少内容区域的宽度不会改变，这也十分合理。</div><div><br/></div><div>     避免触发IE盒模型的方法是<b>使用<code>&lt;!DOCTYPE html&gt;</code>声明（不要进入混杂模式）</b>，告诉IE采用W3C盒子模型即可。</div><div><br/></div><div><br/></div><div><span style="font-size: 15px;"><b>浏览器兼容性</b></span></div><div><b><span style="font-size: 20px;"><br/></span></b></div><div>     一旦为页面设置了恰当的 DTD，大多数浏览器都会按照上面的图示来呈现内容。然而 IE 5 和 6 的呈现却是不正确的。根据 W3C 的规范，元素内容占据的空间是由 width 属性设置的，而内容周围的 padding 和 border 值是另外计算的。不幸的是，IE5.X 和 6 在怪异模式中使用自己的非标准模型。这些浏览器的 width 属性不是内容的宽度，而是内容、内边距和边框的宽度的总和。</div><div><br/></div><div>     虽然有方法解决这个问题。但是目前最好的解决方案是回避这个问题。也就是，不要给元素添加具有指定宽度的内边距，而是尝试将内边距或外边距添加到元素的父元素和子元素。</div></span>
</div></body></html> 